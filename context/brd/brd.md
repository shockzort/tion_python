# Business Requirements Document (BRD) для интеграции бризеров Tion с Яндекс Алисой

## 1. Цели проекта

- **Основная цель**: Реализовать голосовое управление бризерами Tion через Яндекс Алису для повышения удобства контроля за микроклиматом в доме.
- **Дополнительные цели**:
  - Автоматизация управления вентиляцией на основе данных с датчиков CO₂.
  - Обеспечение доступа к управлению бризерами для пользователей с ограниченными возможностями.
  - Снижение зависимости от мобильного приложения Tion.

## 2. Ожидаемые результаты

- **Функциональные**:
  - Поддержка голосовых команд через Яндекс Алису:
    - Включение/выключение бризеров.
    - Переключение режимов работы (например, "тихий режим", "турбо").
    - Установка скорости вентиляции для конкретного бризера.
    - Включение-выключение подогрева воздуха, регулировка температуры подогрева.
    - Запрос текущего состояния (температура, уровень CO₂, режим работы).
  - Интеграция с 3 бризерами и 2 датчиками CO₂ через Python-библиотеку TionAPI.
  - Возможность управления несколькими бризерами одновременно (групповые команды).
  - Настройка сценариев (например, "ночной режим" — снижение шума и скорости).
- **Нефункциональные**:
  - Минимальная задержка при выполнении команд (< 3 секунд).
  - Совместимость с сервером на базе Raspberry Pi (или аналогичным) с Bluetooth 4.0+.
  - Безопасное хранение данных аутентификации Яндекс и Tion.
  - Хранение известных устройств в персистентном хранилище.

## 3. Заинтересованные стороны и их роли

| Роль                | Описание                                                                 |
|----------------------|-------------------------------------------------------------------------|
| **Владелец дома**    | Инициатор проекта, конечный пользователь. Предоставляет оборудование.   |
| **Разработчик**      | Интегрирует TionAPI с сервером и Яндекс Алисой. Настраивает Bluetooth.  |
| **Тестировщик**      | Проверяет корректность голосовых команд и стабильность соединения.      |
| **Поддержка Tion**   | Консультации по работе API и устранению ошибок.                         |
| **Яндекс (Алиса)**   | Обеспечение стабильности голосового интерфейса и документации.          |

## 4. Контекст и область применения

- **Текущая ситуация**: Управление бризерами возможно только через приложение Tion, что неудобно в сценариях, требующих быстрого доступа (например, при высоком уровне CO₂).
- **Область применения**:
  - Частные дома и квартиры с установленными бризерами Tion.
  - Сценарии использования:
    - Регулировка вентиляции во время готовки.
    - Автоматическое проветривание при превышении уровня CO₂.
    - Голосовое управление для людей с ограниченной мобильностью.
- **Ограничения**:
  - Радиус действия Bluetooth (до 10 метров без препятствий).
  - Зависимость от обновлений TionAPI и Яндекс Алисы.
  - Необходимость постоянного питания сервера.

## 5. Технический контекст

- **Инфраструктура**:
  - Сервер (Raspberry Pi 4/NVIDIA Jetson) с ОС Linux и Python 3.8+.
  - Bluetooth-адаптер с поддержкой BLE (BlueZ).
  - Локальная сеть с доступом в интернет для работы Алисы.
- **Компоненты**:
  - Модуль взаимодействия с TionAPI.
  - Голосовой интерфейс через Яндекс Диалоги (Skill для Алисы).
  - База данных для хранения настроек (SQLite/Redis).
  - Логирование ошибок и статуса устройств.

## 6. Риски

- **Технические**:
  - Нестабильность Bluetooth-соединения.
  - Изменения в API Tion или Яндекс без обратной совместимости.
- **Организационные**:
  - Отсутствие документации для неофициального TionAPI.
  - Ограничения по количеству запросов к Алисе (лимиты Яндекс).
